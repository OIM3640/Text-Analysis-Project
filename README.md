# Text-Analysis-Project
 
## Project Overview 
For this project I used the Project Gutenberg database to analyze a text. The text I chose was The *The Great Gatsby* by F. Scott Fitzgerald. I was not sure what I was really hoping to get out of this, but I chose the book because it was one of my favorites I have read. I decided to try and analyze the text for the important themes of the book with many different techniques. This analysis required a number of packages inclding NLTK, spaCy and OpenAI. I also utilized an API Key through OpenAi for a text generation at the end of my analysis. For the project, I used a number of functions for preperation and analysis. For preparation I used functions to download the book and preprocess the text to get it ready for analysis. In the analysis I first counted the number of words in the book. I did this to get some context for the next function which displays the top 30 words by occurences. Next, I did a sensitivity analysis of the text. After that was a Named Entity Recogniction (NER) analysis which stored the named entitites in a dictionary with keys for person, place, etc. I then used a function to return all the people from the dictionary. Lasty, I used the API key to execute a function that generated more of the text to see if the same themes were maintained. 


## Implementation 
To download the book, I used urlib.request. Next I needed to clean the text by removing the unnecessary text. I did this by setting start and end points in the text. After that I needed to preprocess the text to make sure it was in the right form to be analyzed. Here I used the NLTK pachage to tokenize text into words, remove punctuation and make words lowercase, remove common stop words, lemmatize words to their base form, remove hyphens and replaces special characters with spaces. One problem I ran into was the chapters of the book were seperated by hyphens. I tried to remove them in two different ways. The first was by cleaning the lines by using line.replace which we used in the analyze book exercises. The second way I tried was from ChatGPT. I explained the problem and provided code I had. It gave me the suggetion to use the package, re, to sub the characters with spaces. However, this also did not work with my code. It didn't end up being a problem in the analysis, but I couldn't figure out how to fix this issue and neither could ChatGPT. Next I calculated the totel words just so I knew how many were in the book to get a sense for my next function when I stored the words in a dictionary and returned the 30 most common words using an imported counter. I needed to do 30 words because a lot of the most common words weren't useful for analysis. I also could've use a total variable set equal to zero and then a for loop to iterate through the dictionary and add one to a total for each word in the dictionary, but I thought the imported counter would be easier. 

The ext part of the analysis was a sentiment analysis, once again using the NLTK package. Based on the number of words and the sentiment of each, the book is given a score. Each score then corresponds to a label of either positive, negative, or neutral. I then used the spaCy package to perform a Named Entity Recognition (NER) analyis which classifies named entities and stores them all in a dictionary with the classifications as keys. I wanted to see how many people were named in the text, so I created a function to call all of the people from the dictionary. Lastly, I used OpenAI API key to utilize ChatGPT for text creation. I needed help with how to execute this so I asked ChatGPT for some guidance. With the help of the OpenAI pakcage and API key, I was able to create a function that took in a prompt and the max tokens. The prompt would guide ChatGPT how to create the text and the max tokens were the number of words it would generate. 


## Results
I found that the most common word in *The Great Gatsby* is gatsby. I found this very on par for the text considering how obsession is a common theme in the book. Another interesting thing I noticed was the 19th most popularanother frequnetly occuring word was eye. Eyes are a big symbol in the book as they are a metaphor for God staring down and judging us.

From the sentiment analysis, the function returned a sentiment label of Positive. I found this to be very interesting considering the story, plot, and underlying messgaes of the book are not that positive. From this, I think it could be said that F. Scott Fitzgerald was able to write a serious story that provides important social and political commentary that uses words that could classify the overall story as positive. I think that credits his skills as a writor. After the sentiment analysis, I wanted to find all of the characters mentioned in the book. I think the number of people and the interactions they have is what make this book so fascinating. I had the function name all of the people in the dictionary. I did have a little trouble with this one because there were some that appeared multiple times or by different nicknames. However, it was interesting to see the names of all the different characters metioned in the book. 

Lastly, I wanted to do a text generation using the OpenAI API key and ChatGPT. I thought it would be cool to see what an AI would write to continue the story of *The Great Gatsby* as I provided the last line: "So we beat on, boats against the current, borne back ceaselessly into the past." To this ChatGPT responded:
> So we beat on, boats against the current, borne back ceaselessly into the past. The green light at the end of Daisy's dock remained a distant beacon, a symbol of unattainable dreams. Gatsby's mansion, once a place of grandeur and opulence, had fallen into disrepair, its parties long silenced. Nick Carraway, the narrator, found himself drifting through life, searching for meaning in the wake of Gatsby's tragic end. He left West Egg, the world of wealth and excess, behind, and moved to a quieter town, seeking solace in simplicity. There, he wrote his reflections, hoping to capture the essence of that tumultuous era. As the years passed, the Roaring Twenties became a distant memory, and the world changed. Nick often found himself thinking of Jay Gatsby and the lost dreams of a bygone time, wondering if they had all been worth the pursuit. The legacy of those years lived on, reminding him that the pursuit of the American Dream was both a glorious and elusive endeavor. In the end, the boats kept beating against the current, but the past could never be fully escaped, for it was woven into the very fabric of their lives, an indelible part of their shared history.
I found this interesting because it seemed to recognize the book and continue to wrap up the book by summarizing the main themes and important symbols. It is almsot a summary of the important points of the book. 


## Reflection 
I enjoyed doing this project because it allowed us to use the skills we have learned in this class so far and actually use them for something we wanted to do. I think I used the right tools to anayze this text to look for some of the main themes of the book. I think this project was scoped properly as I tried to use ways to easiy demostrate the importance of the use of words in a book. I was also pleased with how the last function turned out. ChatGPT was a big help for this one since I was not sure how to attempt this. It helped me start the function, but I also believe it was so helpful because the API key was through OpenAI, the company that runs CHATGPT. I did also learn that ChatGPT is occasionally wrong, as with the text preprocessing problem I described above. The only thing I wish I knew how to do for this project was create better visualize for the results, and not just have them displayed in the terminal. 